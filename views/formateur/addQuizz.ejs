<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form id="questionForm" method="POST" action="createQuestion">
        <div>
          <label>Contest</label>
          <input type="text" name="contest" required />
        </div>
      
        <div>
          <label>Score</label>
          <input type="number" name="score" required />
        </div>
      
        <div>
          <label>Subject</label>
          <select name="subject" required>
            <option value="1">Math</option>
            <option value="2">Science</option>
            <option value="2">History</option>
          </select>
        </div>
      
        <div>
          <label>Answer 1</label>
          <input type="text" name="answer" />
          <input type="radio" name="trueAnswer" value="0" /> Correct
        </div>
      
        <div>
          <label>Answer 2</label>
          <input type="text" name="answer" />
          <input type="radio" name="trueAnswer" value="1" /> Correct
        </div>
      
        <div>
          <label>Answer 3</label>
          <input type="text" name="answer" />
          <input type="radio" name="trueAnswer" value="2" /> Correct
        </div>
      
        <div>
          <label>Answer 4</label>
          <input type="text" name="answer" />
          <input type="radio" name="trueAnswer" value="3" /> Correct
        </div>
      
        <input type="hidden" name="answersArray" id="answersArray" />
      
        <button type="submit">Submit</button>
      </form>
      
<script>
document.getElementById('questionForm').addEventListener('submit', function(event) {
    event.preventDefault();

    const form = event.target;
    const answers = [];

    const answerInputs = form.querySelectorAll('input[name="answer"]');
    const trueAnswerRadio = form.querySelector('input[name="trueAnswer"]:checked');

    answerInputs.forEach((input, index) => {
        answers.push({
            answer: input.value,
            isCorrect: trueAnswerRadio && trueAnswerRadio.value == index
        });
    });

    document.getElementById('answersArray').value = JSON.stringify(answers);

    form.submit();
});
</script>
</body>
</html>
